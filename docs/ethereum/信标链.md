# 信标链

## 1. 概要
![beacon chain](../../images/beacon.png)
分片阶段会添加64个分片链，每个分片512KB的区块？，每个分片链每 12s 出一个块，这些区块只是包含数据，分片内部没有执行交易，他们的目的是提供更多的数据空间，以允许 rollup 使用这些空间。现阶段，如果都使用 rollup 的话，可以扩容到每秒4000-5000笔交易，如果再加上分片就能提升20-50倍，rollup 有可能达到每秒10万笔交易

随机分配 (shuffling) 验证者，每个分片区块都有一个委员会，其中的验证者都经由随机挑选，只处理和验证自己所在分片链上的交易。

此外，错误性证明（fraud proofs）、数据托管证明 (custody proofs) 和数据可用性检查 (data availability checks) 都是确保安全的重要因素，不过需要单独的讲解才能说清楚。

## 2. 时隙 (slots) 和时段 (epochs)
![slot and epoch](../../images/slot&epoch.png)
每个 slot 为12秒，每个 epoch 由32个 slots 组成，即6.4分钟。每过12秒，都可能会增加一个信标链区块，和64个分片链区块（slot 中可能没有区块）。

## 3. 验证者 (validators)、证明 (attestations) 和信标链
在每一个 epoch 中，委员会会从每条信标链和分片链随机挑选一个活跃的验证者，成为提议者（block proposer）。他会收集该 slot 时间段内、该分片链上的交易，组成区块，如果他提议的区块得到2/3以上的验证者投票赞成，则达成共识，他就会得到奖励，并将分片区块头和对应信标区块体连接。

验证者对信标区块和分片区块进行投票。这些投票会记录在信标链上。

- 证明：  
一份证明（attestation）就是验证者的一记投票，投票通过验证者质押的金额进行加权。

验证者之间也会互相监督，通过举报其他验证者自相矛盾的投票或提议多个区块的行为，从而获得奖励。

信标链区块记录了验证者的地址、验证者的状态、证明和分片的链接。

- 交联：  
交联是指将一个信标区块和一个分片区块连接起来。

- 委员会：  
每个 slot（在信标链和每个分片里）的委员会至少由128位验证者组成。而一个恶意攻击者能够控制2/3委员会成员的可能性低于万亿分之一。
