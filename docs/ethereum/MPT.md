# MPT

## 1. 状态树
以太坊中使用账户模型，账户模型应该怎么存储？
1. 如果使用 merkle tree 的数据结构保存账户：a. merkle tree 没有提供查找方式，查询起来会很不方便。b. 每个区块都需要把所有账户数据发布一次，占用了很多空间。
2. 如果使用排序的 merkle tree 呢：新增加一个账户的时候要更改成千上万条数据。

## 2. 收据树
- 每个交易执行完毕后，都会有一个收据，每个收据里都有一个Bloom Filter，记录了此交易的类型、地址等相关信息。收据树与交易树是一一对应的。
- 智能合约的执行过程比较复杂，收据树的作用是利于系统快速查询执行结果。

## 3. 账户
外部账户：账户余额balance和计数器nonce  
合约账户：balance和nonce之外还有code(代码)、storage(相关状态-存储)，我的理解：合约中的 storage 变量会保存在 MPT 中，像 memory 等数据只会短暂保存在内存中
